{"version":3,"sources":["lostItemController.js"],"names":["registerLostItem","req","res","body","name","description","location","lost_date","user_id","image","file","filename","db","query","json","message","console","error","status","getAllLostItems","rows"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;AAEO,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAOC,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEgCD,GAAG,CAACE,IAFpC,EAEpBC,IAFoB,aAEpBA,IAFoB,EAEdC,WAFc,aAEdA,WAFc,EAEDC,QAFC,aAEDA,QAFC,EAESC,SAFT,aAESA,SAFT,EAEoBC,OAFpB,aAEoBA,OAFpB;AAGtBC,UAAAA,KAHsB,GAGdR,GAAG,CAACS,IAAJ,GAAWT,GAAG,CAACS,IAAJ,CAASC,QAApB,GAA+B,IAHjB;AAAA;AAAA,0CAKtBC,eAAGC,KAAH,uHAGH,CAACT,IAAD,EAAOC,WAAP,EAAoBC,QAApB,EAA8BC,SAA9B,EAAyCE,KAAzC,EAAgDD,OAAhD,CAHG,CALsB;;AAAA;AAU5BN,UAAAA,GAAG,CAACY,IAAJ,CAAS;AAAEC,YAAAA,OAAO,EAAE;AAAX,WAAT,EAV4B,CAUM;;AAVN;AAAA;;AAAA;AAAA;AAAA;AAY5BC,UAAAA,OAAO,CAACC,KAAR,CAAc,SAAd;AACAf,UAAAA,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBJ,IAAhB,CAAqB;AAAEG,YAAAA,KAAK,EAAE;AAAT,WAArB;;AAb4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAzB;;;;AAiBA,IAAME,eAAe,GAAG,SAAlBA,eAAkB,CAAOlB,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAEJU,eAAGC,KAAH,CAAS,mDAAT,CAFI;;AAAA;AAAA;AAAA;AAElBO,UAAAA,IAFkB;AAGzBlB,UAAAA,GAAG,CAACY,IAAJ,CAASM,IAAT;AAHyB;AAAA;;AAAA;AAAA;AAAA;AAKzBlB,UAAAA,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBJ,IAAhB,CAAqB;AAAEC,YAAAA,OAAO,EAAE,MAAX;AAAmBE,YAAAA,KAAK;AAAxB,WAArB;;AALyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAxB","sourcesContent":["import db from '../config/db.js';\n\nexport const registerLostItem = async (req, res) => {\n  try {\n    const { name, description, location, lost_date, user_id } = req.body;\n    const image = req.file ? req.file.filename : null;\n\n    await db.query(`\n      INSERT INTO lost_items (name, description, location, lost_date, image)\n      VALUES (?, ?, ?, ?, ?)\n    `, [name, description, location, lost_date, image, user_id]);\n\n    res.json({ message: '遺失物登記成功' }); // ✅ 一定要有這行\n  } catch (err) {\n    console.error('❌ 登記失敗:', err);\n    res.status(500).json({ error: '伺服器錯誤' });\n  }\n};\n\nexport const getAllLostItems = async (req, res) => {\n    try {\n      const [rows] = await db.query('SELECT * FROM lost_items ORDER BY created_at DESC');\n      res.json(rows);\n    } catch (err) {\n      res.status(500).json({ message: '查詢失敗', error: err });\n    }\n  };\n  \n  "],"file":"lostItemController.dev.js"}